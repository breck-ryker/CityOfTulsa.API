
@model CityOfTulsaUI.Models.UserModel

@{
   ViewData["Title"] = "Tulsa Fire Department: Dispatch Data";
   List<string> listProblems = (List<string>)ViewBag.Problems;
}

<h5>@ViewData["Title"]</h5>

@section Styles
{
   <link rel="stylesheet" type="text/css" href="@Url.Content("/lib/bootstrap-datepicker/css/bootstrap-datepicker.min.css")" />
   <link rel="stylesheet" type="text/css" href="@Url.Content("/css/tfddata.css")" />
}

@section Scripts
{
   <script src="@Url.Content("/lib/bootstrap-datepicker/js/bootstrap-datepicker.min.js")"></script>
   <script src="@Url.Content("/js/tfddata.js")"></script>
}

<div class="row mt-4" id="rowDateOptions">

   <div class="col-sm-12 d-flex">

      <div class="form-check float-sm-left align-self-center d-flex mr-3 noselect user-select-none">
         <input class="form-check-input align-self-center mb-1" type="checkbox" value="" id="show_dateoptions" @((Model.UseTFDDateFilter ? "checked" : ""))>
         <label class="form-check-label align-self-center font-weight-bold noselect user-select-none" for="show_dateoptions" id="label_showdateoptions">
            Filter by response date
         </label>
      </div>

      <div id="dateoptions_btngrp" class="btn-group btn-group-toggle float-sm-left align-self-center @(Model.UseTFDDateFilter ? "" : "cotHidden")" data-toggle="buttons">

         <label class="btn btn-outline-secondary btn-sm1 @((Model.TFDDateFilterType == DateFilterType.OnDate ? "active" : ""))">
            <input type="radio" name="dateoptions" id="date_on" autocomplete="off" value="@((int)CityOfTulsaUI.Models.DateFilterType.OnDate)" checked> On
         </label>

         <label class="btn btn-outline-secondary btn-sm1 @((Model.TFDDateFilterType == DateFilterType.AfterDate ? "active" : ""))">
            <input type="radio" name="dateoptions" id="date_after" autocomplete="off" value="@((int)CityOfTulsaUI.Models.DateFilterType.AfterDate)"> After
         </label>

         <label class="btn btn-outline-secondary btn-sm1 @((Model.TFDDateFilterType == DateFilterType.BeforeDate ? "active" : ""))">
            <input type="radio" name="dateoptions" id="date_before" autocomplete="off" value="@((int)CityOfTulsaUI.Models.DateFilterType.BeforeDate)"> Before
         </label>

         <label class="btn btn-outline-secondary btn-sm1 @((Model.TFDDateFilterType == DateFilterType.BetweenDates ? "active" : ""))">
            <input type="radio" name="dateoptions" id="date_between" autocomplete="off" value="@((int)CityOfTulsaUI.Models.DateFilterType.BetweenDates)"> Between
         </label>
      </div>
   </div>
</div>
<div class="row d-flex mt-4 flex-nowrap @((Model.UseTFDDateFilter ? "" : "cotHidden"))" id="rowDates">
   <div class="align-self-center ml-4 col-xs-4 col-sm-3 col-md-3 col-lg-2 col-xl-2" id="mindate_container">
      <div class="input-group date">
         <input type="text" class="form-control datepicker bg1 border1 text-center" placeholder="@((Model.TFDDateFilterType == DateFilterType.BetweenDates ? "min date" : "select date"))" id="mindate">
      </div>
   </div>
   <div class="align-self-center ml-4 text-center col-xs-3 col-sm-3 col-md-2 col-lg-2 col-xl-2 @((Model.UseTFDDateFilter && Model.TFDDateFilterType == DateFilterType.BetweenDates ? "" : "cotHidden"))" id="maxdate_label">
      <span class="label">-and-</span>
   </div>
   <div class="align-self-center ml-4 col-xs-4 col-sm-3 col-md-3 col-lg-2 col-xl-2 @((Model.UseTFDDateFilter && Model.TFDDateFilterType == DateFilterType.BetweenDates ? "" : "cotHidden"))" id="maxdate_container">
      <div class="input-group date">
         <input type="text" class="form-control datepicker bg1 border1 text-center" placeholder="max date" id="maxdate">
      </div>
   </div>
</div>
<div class="row mt-4" id="rowProblemOptions">
   <div class="col-sm-12 d-flex">
      <div class="form-check float-sm-left align-self-center d-flex mr-3 noselect user-select-none">
         <input class="form-check-input align-self-center mb-1" type="checkbox" value="" id="show_problemlist" @((Model.UseTFDProblemFilter ? "checked" : ""))>
         <label class="form-check-label align-self-center font-weight-bold noselect user-select-none" for="show_problemlist" id="label_showproblemlist">
            Filter by problem type
         </label>
      </div>
   </div>
</div>
<div class="row mt-4 @((Model.UseTFDProblemFilter ? "" : "cotHidden"))" id="rowProblemList">

   <div class="col-sm-12 d-flex">

      <div id="problem_list">
         @if (listProblems != null) { 
            foreach (string problem in listProblems) {
               <div>@problem</div>
            }
         } 
      </div>
   </div>
</div>